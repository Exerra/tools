---
import { faSun, faToolbox } from "@fortawesome/free-solid-svg-icons";
import { faGithub, faMastodon, faXTwitter } from "@fortawesome/free-brands-svg-icons";
import FontawesomeIcon from "./FontawesomeIcon.astro";

import { site } from "../config/site";
---
<nav class="sticky top-0 z-40 w-full border-b border-b-slate-200 bg-white dark:border-b-slate-700 dark:bg-slate-900">
	<div class="container flex h-16 items-center px-6 sm:justify-between sm:space-x-0 mx-auto">
		<div class="flex gap-6 md:gap-10">
			<a class="items-center space-x-2 flex" href="/">
				<FontawesomeIcon icon={faToolbox} class="h-5 w-5" />
				<span class="inline-block font-bold">{site.name}</span>
			</a>
			<!--<div class="gap-6 flex">-->
			<!--	<a class="flex items-center text-lg font-semibold text-slate-600 hover:text-slate-900 sm:text-sm" href="/">Home</a>-->
			<!--</div>-->
		</div>

		<div class="flex flex-1 items-center justify-end space-x-4">
			<div class="flex items-center space-x-1">
				<a target="_blank" rel="noreferrer" href="https://github.com/Exerra/tools">
					<div class="active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 dark:hover:bg-slate-800 dark:hover:text-slate-100 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900 data-[state=open]:bg-slate-100 dark:data-[state=open]:bg-slate-800 bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-100 dark:hover:text-slate-100 data-[state=open]:bg-transparent dark:data-[state=open]:bg-transparent h-9 px-2 rounded-md text-slate-700 dark:text-slate-400">
						<FontawesomeIcon icon={faGithub} class="h-5 w-5" />
						<span class="sr-only">GitHub</span>
					</div>
				</a>
				<a target="_blank" rel="noreferrer" href="https://x.com/Exerra">
					<div class="active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 dark:hover:bg-slate-800 dark:hover:text-slate-100 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900 data-[state=open]:bg-slate-100 dark:data-[state=open]:bg-slate-800 bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-100 dark:hover:text-slate-100 data-[state=open]:bg-transparent dark:data-[state=open]:bg-transparent h-9 px-2 rounded-md text-slate-700 dark:text-slate-400">
						<FontawesomeIcon icon={faXTwitter} class="h-5 w-5" />
						<span class="sr-only">X/Twitter</span>
					</div>
				</a>
				<a target="_blank" rel="noreferrer" href="https://mastodon.world/@exerra">
					<div class="active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 dark:hover:bg-slate-800 dark:hover:text-slate-100 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900 data-[state=open]:bg-slate-100 dark:data-[state=open]:bg-slate-800 bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-100 dark:hover:text-slate-100 data-[state=open]:bg-transparent dark:data-[state=open]:bg-transparent h-9 px-2 rounded-md text-slate-700 dark:text-slate-400">
						<FontawesomeIcon icon={faMastodon} class="h-5 w-5" />
						<span class="sr-only">Mastodon</span>
					</div>
				</a>

				<button id="theme-switch">
					<div class="active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 dark:hover:bg-slate-800 dark:hover:text-slate-100 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900 data-[state=open]:bg-slate-100 dark:data-[state=open]:bg-slate-800 bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-100 dark:hover:text-slate-100 data-[state=open]:bg-transparent dark:data-[state=open]:bg-transparent h-9 px-2 rounded-md text-slate-700 dark:text-slate-400">
						<FontawesomeIcon icon={faSun} class="h-5 w-5" />
						<span class="sr-only">Theme switch</span>
					</div>
				</button>
			</div>
		</div>
	</div>
</nav>

<script is:inline>
	const themeSwitch = document.querySelector(
		"#theme-switch"
	)

	themeSwitch.addEventListener("click", () => {
		if (localStorage.theme === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
			document.documentElement.classList.remove("dark")
			localStorage.theme = "light"
		} else {
			document.documentElement.classList.add('dark');
			localStorage.theme = 'dark';
		}
	})
</script>